import Sprite from "kontra/src/sprite";

const letters = {
  A: [[, 1], [1, , 1], [1, , 1], [1, 1, 1], [1, , 1]],
  B: [[1, 1], [1, , 1], [1, 1, 1], [1, , 1], [1, 1]],
  C: [[1, 1, 1], [1], [1], [1], [1, 1, 1]],
  D: [[1, 1], [1, , 1], [1, , 1], [1, , 1], [1, 1]],
  E: [[1, 1, 1], [1], [1, 1, 1], [1], [1, 1, 1]],
  F: [[1, 1, 1], [1], [1, 1], [1], [1]],
  G: [[, 1, 1], [1], [1, , 1, 1], [1, , , 1], [, 1, 1]],
  H: [[1, , 1], [1, , 1], [1, 1, 1], [1, , 1], [1, , 1]],
  I: [[1, 1, 1], [, 1], [, 1], [, 1], [1, 1, 1]],
  J: [[1, 1, 1], [, , 1], [, , 1], [1, , 1], [1, 1, 1]],
  K: [[1, , , 1], [1, , 1], [1, 1], [1, , 1], [1, , , 1]],
  L: [[1], [1], [1], [1], [1, 1, 1]],
  M: [
    [1, 1, 1, 1, 1],
    [1, , 1, , 1],
    [1, , 1, , 1],
    [1, , , , 1],
    [1, , , , 1]
  ],
  N: [[1, , , 1], [1, 1, , 1], [1, , 1, 1], [1, , , 1], [1, , , 1]],
  O: [[1, 1, 1], [1, , 1], [1, , 1], [1, , 1], [1, 1, 1]],
  P: [[1, 1, 1], [1, , 1], [1, 1, 1], [1], [1]],
  Q: [[0, 1, 1], [1, , , 1], [1, , , 1], [1, , 1, 1], [1, 1, 1, 1]],
  R: [[1, 1], [1, , 1], [1, , 1], [1, 1], [1, , 1]],
  S: [[1, 1, 1], [1], [1, 1, 1], [, , 1], [1, 1, 1]],
  T: [[1, 1, 1], [, 1], [, 1], [, 1], [, 1]],
  U: [[1, , 1], [1, , 1], [1, , 1], [1, , 1], [1, 1, 1]],
  V: [[1, , , , 1], [1, , , , 1], [, 1, , 1], [, 1, , 1], [, , 1]],
  W: [[1, , , , 1], [1, , , , 1], [1, , , , 1], [1, , 1, , 1], [1, 1, 1, 1, 1]],
  X: [[1, , , , 1], [, 1, , 1], [, , 1], [, 1, , 1], [1, , , , 1]],
  Y: [[1, , 1], [1, , 1], [, 1], [, 1], [, 1]],
  Z: [[1, 1, 1, 1, 1], [, , , 1], [, , 1], [, 1], [1, 1, 1, 1, 1]],
  "0": [[1, 1, 1], [1, , 1], [1, , 1], [1, , 1], [1, 1, 1]],
  "1": [[, 1], [, 1], [, 1], [, 1], [, 1]],
  "2": [[1, 1, 1], [0, 0, 1], [1, 1, 1], [1, 0, 0], [1, 1, 1]],
  "3": [[1, 1, 1], [0, 0, 1], [1, 1, 1], [0, 0, 1], [1, 1, 1]],
  "4": [[1, 0, 1], [1, 0, 1], [1, 1, 1], [0, 0, 1], [0, 0, 1]],
  "5": [[1, 1, 1], [1, 0, 0], [1, 1, 1], [0, 0, 1], [1, 1, 1]],
  "6": [[1, 1, 1], [1, 0, 0], [1, 1, 1], [1, 0, 1], [1, 1, 1]],
  "7": [[1, 1, 1], [0, 0, 1], [0, 0, 1], [0, 0, 1], [0, 0, 1]],
  "8": [[1, 1, 1], [1, 0, 1], [1, 1, 1], [1, 0, 1], [1, 1, 1]],
  "9": [[1, 1, 1], [1, 0, 1], [1, 1, 1], [0, 0, 1], [1, 1, 1]],
  " ": [[, ,], [, ,], [, ,], [, ,], [, ,]]
};

export default class Text {
  constructor(wording, fontSize = 10) {
    this.wording = wording.toUpperCase();
    this.fontSize = fontSize;
  }

  getSprites() {
    if (!this.sprites) {
      const size = this.fontSize;

      this.sprites = Sprite({
          x: 10,
          y: 10,
          height: 100,
          width: 100,
        render() {
          debugger;
          const needed = [];

          this.context.fillStyle = "yellow";
          let currX = 0;
          for (let i = 0; i < needed.length; i++) {
            letter = needed[i];
            let currY = 0;
            let addX = 0;
            for (let y = 0; y < letter.length; y++) {
              let row = letter[y];
              for (let x = 0; x < row.length; x++) {
                if (row[x]) {
                  this.context.fillRect(currX + x * size, currY, size, size);
                }
              }
              addX = Math.max(addX, row.length * size);
              currY += size;
            }
            currX += size + addX;
          }
        }
      });
    }

    return this.sprites;
  }
}
